(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{594:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var s=n(r(4938)),o=r(5893);t.Z=(0,s.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},9897:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0,function(e,t){if((t||!e||!e.__esModule)&&null!==e&&("object"==typeof e||"function"==typeof e)){var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=s?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,r&&r.set(e,n)}}(r(7294));var s=n(r(4938)),o=r(5893);function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}t.Z=(0,s.default)((0,o.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google")},8857:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var s=n(r(4938)),o=r(5893);t.Z=(0,s.default)((0,o.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonChecked")},9462:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var s=n(r(4938)),o=r(5893);t.Z=(0,s.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked")},9749:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/checkout",function(){return r(5050)}])},5050:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return CheckOutPage}});var n=r(1010),s=r(1309),o=r(7582),c=r(5893),a=r(7294),i=r(1664),u=r.n(i),l=r(5675),h=r.n(l),p=r(3462),d=r.n(p),f=r(1804),_=r(3120),x=r(9897),j=r(594),m=r(9535),k=r.n(m),y={fontFamily:"Poppins"};function SignupLoginPopUp(e){var t=e.handleClosePopUp;return(0,c.jsx)("div",{className:k().checkoutPopup,style:y,children:(0,c.jsxs)("div",{className:k().checkoutPopupContent,children:[(0,c.jsxs)("div",{className:k().checkoutPopupHeading,children:[(0,c.jsx)("h2",{children:"Login or Signup"}),(0,c.jsx)(j.Z,{className:k().checkoutPopupClose,onClick:t})]}),(0,c.jsx)(u(),{href:"/",passHref:!0,children:(0,c.jsxs)("div",{className:k().signupGoogle,children:[(0,c.jsx)(x.Z,{className:k().googleIcon}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{style:{color:"#DB4437"},children:"Continue"}),(0,c.jsx)("span",{style:{color:"#F4B400"},children:" with "}),(0,c.jsx)("span",{style:{color:"#0F9D58"},children:"Google"})]})]})}),(0,c.jsx)("div",{className:k().or,children:(0,c.jsx)("p",{children:"or"})}),(0,c.jsxs)("div",{className:k().checkoutPopupInput,children:[(0,c.jsx)("input",{type:"text",placeholder:"example@email.com"}),(0,c.jsx)("button",{children:"Continue with Email"})]}),(0,c.jsx)("div",{className:k().checkoutPopupLogin,children:(0,c.jsxs)("p",{children:["Skip and Continue as ",(0,c.jsx)("span",{style:{color:"#ED7D31",fontWeight:"400",textDecoration:"underline",cursor:"pointer"},onClick:t,children:"Guest? "})]})})]})})}var g=r(9462),P=r(8857),v={src:"/_next/static/media/mpesa.099e0e97.svg",height:46,width:236,blurWidth:0,blurHeight:0},C={src:"/_next/static/media/paypal.a3e1bc73.svg",height:30,width:29,blurWidth:0,blurHeight:0},N={src:"/_next/static/media/card.a1e3ecf2.svg",height:22,width:77,blurWidth:0,blurHeight:0};function CheckOutPage(){var e,t=(0,f.jD)(),r=t.cart,i=t.handleRemoveFromCart,l=(0,s._)((0,a.useState)(!1),2),p=l[0],x=l[1],m=(0,s._)((0,a.useState)(!1),2),k=m[0],y=m[1],w=(0,s._)((0,a.useState)(!1),2),b=w[0],E=w[1],D=(0,s._)((0,a.useState)(!1),2),S=D[0],U=D[1],B=(0,s._)((0,a.useState)(!1),2),L=B[0],O=B[1],Z=(0,s._)((0,a.useState)(!1),2),I=Z[0],W=Z[1],F=(0,s._)((0,a.useState)(!1),2),J=F[0],G=F[1];(0,a.useEffect)(function(){(0,_.B9)(),(0,_.PO)(),(0,_.Ny)()},[]);var M=(e=(0,n._)(function(){var e;return(0,o.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,_.B9)()];case 1:return t.sent(),e={firstName:"John",lastName:"Doe",email:"user@example.com",phone:"0712345678"},[4,(0,_.Ny)(e)];case 2:return t.sent(),[3,4];case 3:return console.error(t.sent()),[3,4];case 4:return[2]}})}),function(){return e.apply(this,arguments)}),T=r.reduce(function(e,t){return e+(parseFloat(t.selectedPrice)||0)},0),handleClosePopUp=function(){U(!1),W(!0),G(!0),O(!0),setTimeout(function(){G(!1)},3e3)};return(0,c.jsxs)("div",{className:d().checkoutContainer,style:{fontFamily:"Poppins"},children:[(0,c.jsx)("h1",{children:"Complete Your Order!"}),0===r.length?(0,c.jsxs)("div",{className:d().emptyCart,children:[(0,c.jsx)("p",{children:"Add Items to Cart"}),(0,c.jsx)(u(),{href:"/shop/cart",legacyBehavior:!0,children:(0,c.jsx)("a",{children:"Go to Cart"})})]}):(0,c.jsxs)("div",{className:d().checkoutOrder,children:[(0,c.jsxs)("div",{className:d().orderContainer,children:[r.map(function(e){return(0,c.jsxs)("div",{className:d().checkoutProduct,children:[(0,c.jsx)(u(),{href:"/shop/product/".concat(e.slug),legacyBehavior:!0,children:(0,c.jsx)("a",{children:e.images&&e.images.length>0&&(0,c.jsx)(h(),{src:e.images[0].src,alt:e.name,loading:"lazy",width:100,height:100})})}),(0,c.jsxs)("div",{className:d().checkoutProductDetails,children:[(0,c.jsx)("h2",{children:e.name}),(0,c.jsx)("p",{children:e.selectedOptionDescription}),(0,c.jsxs)("div",{className:d().onlyForMobile,children:[null!==e.selectedPrice?(0,c.jsxs)("h3",{children:["$",e.selectedPrice]}):(0,c.jsx)("h3",{children:"No price selected"}),(0,c.jsx)("p",{style:{color:"red",cursor:"pointer"},onClick:function(){return i(e)},children:"Remove"})]})]})]},e.id)}),(0,c.jsxs)("div",{className:d().totalPrice,children:[(0,c.jsx)("h2",{children:"Order Total:"}),(0,c.jsxs)("p",{children:["$",T.toFixed(2)]})]})]}),(0,c.jsxs)("div",{className:d().checkoutDetails,children:[(0,c.jsxs)("h2",{children:["Personal Information",(0,c.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,c.jsxs)("div",{className:d().personalInfo,children:[(0,c.jsx)("input",{type:"text",placeholder:"First Name"}),(0,c.jsx)("input",{type:"text",placeholder:"Last Name"}),(0,c.jsx)("input",{type:"email",placeholder:"Email"}),(0,c.jsx)("input",{type:"tel",placeholder:"Phone Number"})]}),(0,c.jsxs)("div",{className:d().paymentType,children:[(0,c.jsxs)("h2",{children:["Payment Methods",(0,c.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,c.jsxs)("div",{className:d().mpesaPayment,onClick:function(){x(!p),y(!1),E(!1)},children:[(0,c.jsxs)("div",{className:d().mpesaButton,children:[p?(0,c.jsx)(P.Z,{className:d().radioChecked}):(0,c.jsx)(g.Z,{className:d().radioUnchecked}),(0,c.jsx)("p",{children:"Mpesa"})]}),p&&(0,c.jsxs)("div",{className:d().mpesaDetails,children:[(0,c.jsx)(h(),{src:v,alt:"Mpesa"}),(0,c.jsxs)("p",{children:["Enter your phone number to receive SSD prompt",(0,c.jsx)("br",{}),"Enter your pin",(0,c.jsx)("br",{}),"Complete Payment"]}),(0,c.jsxs)("div",{className:d().mpesaInput,children:[(0,c.jsx)("input",{type:"text",placeholder:"Phone Number",onClick:function(e){return e.stopPropagation()}}),(0,c.jsx)("button",{onClick:function(e){return e.stopPropagation()},children:"Send Prompt"})]})]})]}),(0,c.jsxs)("div",{className:d().paypalPayment,onClick:function(){E(!b),x(!1),y(!1)},children:[(0,c.jsxs)("div",{className:d().paypalButton,children:[b?(0,c.jsx)(P.Z,{className:d().radioChecked}):(0,c.jsx)(g.Z,{className:d().radioUnchecked}),(0,c.jsx)("p",{children:"Paypal"}),(0,c.jsx)(h(),{src:C,alt:"paypal"})]}),b&&(0,c.jsxs)("div",{className:d().paypalDetails,children:[(0,c.jsx)("p",{children:"Checkout with PayPal"}),(0,c.jsxs)("button",{onClick:function(e){return e.stopPropagation()},children:[(0,c.jsx)("span",{style:{color:"#00457C"},children:"Pay"}),(0,c.jsx)("span",{style:{color:"#0079C1"},children:"Pal"})," "]})]})]}),(0,c.jsxs)("div",{className:d().cardPayment,onClick:function(){y(!k),x(!1),E(!1)},children:[(0,c.jsxs)("div",{className:d().cardButton,children:[k?(0,c.jsx)(P.Z,{className:d().radioChecked}):(0,c.jsx)(g.Z,{className:d().radioUnchecked}),(0,c.jsx)("p",{children:"Card"}),(0,c.jsx)(h(),{src:N,alt:"card"})]}),k&&(0,c.jsxs)("div",{className:d().cardDetails,children:[(0,c.jsx)("input",{type:"text",placeholder:"Name on Card",onClick:function(e){return e.stopPropagation()}}),(0,c.jsx)("input",{type:"text",placeholder:"Card Number",onClick:function(e){return e.stopPropagation()}}),(0,c.jsx)("input",{type:"text",placeholder:"Expiry Date",onClick:function(e){return e.stopPropagation()}}),(0,c.jsx)("input",{type:"text",placeholder:"CVV*",onClick:function(e){return e.stopPropagation()}})]})]})]}),(0,c.jsxs)("div",{className:d().orderButton,children:[(0,c.jsxs)("button",{onClick:function(){L?W(!0):U(!0)},onClose:M,children:["Checkout ",(0,c.jsxs)("span",{children:["$",T.toFixed(2)]})]}),(0,c.jsxs)("p",{style:{fontSize:"14px",fontWeight:"300",marginTop:"20px",marginBottom:"0"},children:["Not yet done? ",(0,c.jsx)("span",{children:(0,c.jsx)(u(),{href:"/shop/house-plans",legacyBehavior:!0,children:(0,c.jsx)("a",{style:{color:"#ED7D31",textDecoration:"none"},children:"Browse All Products"})})})]})]})]})]}),S&&(0,c.jsx)(SignupLoginPopUp,{handleClosePopUp:handleClosePopUp}),I&&(0,c.jsx)("div",{className:d().loadingScreen,children:J?(0,c.jsxs)("div",{className:d().loading,children:["Loading",(0,c.jsx)("span",{children:"..."})," Please wait while we process your payment."]}):(0,c.jsxs)("div",{className:d().errorToWhatsapp,children:[(0,c.jsx)(j.Z,{onClick:handleClosePopUp,cursor:"pointer"}),(0,c.jsx)("h2",{children:"Error, Kindly Contact Us via WhatsApp:"}),(0,c.jsx)("a",{href:"https://wa.me/254710478088",target:"_blank",rel:"noreferrer",children:(0,c.jsx)("button",{children:"WhatsApp"})})]})})]})}},3120:function(e,t,r){"use strict";r.d(t,{Ai:function(){return j},B9:function(){return y},LY:function(){return m},Ny:function(){return g},PO:function(){return P},aP:function(){return f},lY:function(){return k},pE:function(){return x},t2:function(){return _}});var n,s,o,c,a,i,u,l,h,p=r(1010),d=r(7582),f=(n=(0,p._)(function(){var e,t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/shop/products")];case 1:if(!(e=r.sent()).ok)throw Error("Error fetching products");return[4,e.json()];case 2:return[2,r.sent()];case 3:throw console.error("Error in fetchAllProducts:",t=r.sent()),t;case 4:return[2]}})}),function(){return n.apply(this,arguments)}),_=(s=(0,p._)(function(e){var t,r;return(0,d.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/api/shop/products?categoryId=".concat(e))];case 1:if(!(t=n.sent()).ok)throw Error("Error fetching products");return[4,t.json()];case 2:return[2,n.sent()];case 3:throw console.error(r=n.sent()),r;case 4:return[2]}})}),function(e){return s.apply(this,arguments)}),x=(o=(0,p._)(function(){var e,t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/shop/categories")];case 1:if(!(e=r.sent()).ok)throw Error("Error fetching categories");return[4,e.json()];case 2:return[2,r.sent()];case 3:throw console.error("Error in fetchCategories:",(t=r.sent()).message),t;case 4:return[2]}})}),function(){return o.apply(this,arguments)}),j=(c=(0,p._)(function(e){var t,r;return(0,d.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/api/shop/products/".concat(e,"/attributes"))];case 1:if(!(t=n.sent()).ok)throw Error("Error fetching attributes");return[4,t.json()];case 2:return[2,n.sent()];case 3:throw console.error(r=n.sent()),r;case 4:return[2]}})}),function(e){return c.apply(this,arguments)}),m=(a=(0,p._)(function(e){var t,r;return(0,d.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/api/shop/attributes/terms?name=".concat(e))];case 1:if(!(t=n.sent()).ok)throw Error("Error fetching attribute terms");return[4,t.json()];case 2:return[2,n.sent()];case 3:throw console.error(r=n.sent()),r;case 4:return[2]}})}),function(e){return a.apply(this,arguments)}),k=(i=(0,p._)(function(e){var t,r;return(0,d.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/api/shop/products/".concat(e,"/variations"))];case 1:if(!(t=n.sent()).ok)throw Error("Error fetching variations");return[4,t.json()];case 2:return[2,n.sent()];case 3:throw console.error(r=n.sent()),r;case 4:return[2]}})}),function(e){return i.apply(this,arguments)}),y=(u=(0,p._)(function(){var e,t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/shop/checkout")];case 1:if(!(e=r.sent()).ok)throw Error("Error fetching checkout");return[4,e.json()];case 2:return[2,r.sent()];case 3:throw console.error(t=r.sent()),t;case 4:return[2]}})}),function(){return u.apply(this,arguments)}),g=(l=(0,p._)(function(e){var t,r;return(0,d.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/api/shop/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if(!(t=n.sent()).ok)throw Error("Error creating user");return[4,t.json()];case 2:return[2,n.sent()];case 3:throw console.error(r=n.sent()),r;case 4:return[2]}})}),function(e){return l.apply(this,arguments)}),P=(h=(0,p._)(function(){var e,t;return(0,d.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/shop/orders")];case 1:if(!(e=r.sent()).ok)throw Error("Error creating order");return[4,e.json()];case 2:return[2,r.sent()];case 3:throw console.error(t=r.sent()),t;case 4:return[2]}})}),function(){return h.apply(this,arguments)})},3462:function(e){e.exports={checkoutContainer:"checkout_checkoutContainer__fN1cd",checkoutOrder:"checkout_checkoutOrder__WE6w0",orderContainer:"checkout_orderContainer__6C1FG",checkoutProduct:"checkout_checkoutProduct__qmhk1",checkoutProductDetails:"checkout_checkoutProductDetails__av3ep",totalPrice:"checkout_totalPrice__UrnSk",radioChecked:"checkout_radioChecked__0RElm",radioUnchecked:"checkout_radioUnchecked__Ga6iX",checkoutDetails:"checkout_checkoutDetails__ITS90",personalInfo:"checkout_personalInfo__6ZG6m",paymentType:"checkout_paymentType__tdz3F",mpesaPayment:"checkout_mpesaPayment__v0KS9",mpesaButton:"checkout_mpesaButton__Dvp38",paypalButton:"checkout_paypalButton__cIxL6",cardButton:"checkout_cardButton__ScESJ",mpesaDetails:"checkout_mpesaDetails__HJP9Y",mpesaInput:"checkout_mpesaInput__u6e_V",paypalPayment:"checkout_paypalPayment__kF0G2",paypalDetails:"checkout_paypalDetails__x0FLD",cardPayment:"checkout_cardPayment__jpul7",cardDetails:"checkout_cardDetails__5LJVX",orderButton:"checkout_orderButton__kDZDf",onlyForMobile:"checkout_onlyForMobile__vXbkp",errorToWhatsapp:"checkout_errorToWhatsapp__K32V0"}},9535:function(e){e.exports={checkoutPopup:"signupLoginPopUp_checkoutPopup__7jdfP",checkoutPopupContent:"signupLoginPopUp_checkoutPopupContent__La_Xm",checkoutPopupHeading:"signupLoginPopUp_checkoutPopupHeading__5hHtl",checkoutPopupClose:"signupLoginPopUp_checkoutPopupClose___G4ea",signupGoogle:"signupLoginPopUp_signupGoogle__8EXgg",googleIcon:"signupLoginPopUp_googleIcon__mkQo8",or:"signupLoginPopUp_or__XfGGI",checkoutPopupInput:"signupLoginPopUp_checkoutPopupInput__X8QHU",checkoutPopupLogin:"signupLoginPopUp_checkoutPopupLogin__oxesa"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9749)}),_N_E=e.O()}]);