(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{538:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n(3555)}])},3555:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Blog}});var r=n(1309),o=n(5893),s=n(7294),a=n(9008),c=n.n(a),i=n(5675),l=n.n(i),d=n(1664),u=n.n(d),h=n(4624),g=n.n(h);n(5824);var _={src:"/_next/static/media/SearchIcon.b573126d.svg",height:18,width:21,blurWidth:0,blurHeight:0},p=n(5537),m=n.n(p),f={fontFamily:"Poppins"};function SearchBar(e){e.post;var t=(0,r._)((0,s.useState)(""),2),n=t[0],a=t[1],c=(0,r._)((0,s.useState)([]),2),i=c[0],d=c[1],h=(0,r._)((0,s.useState)(""),2),g=h[0],p=h[1];return(0,o.jsxs)("div",{className:m().searchBar,style:f,children:[(0,o.jsxs)("div",{className:m().searchOptions,children:[(0,o.jsx)("input",{type:"text",placeholder:" Search for related Architecture Topics, News & Articles...",value:n,onChange:function(e){a(e.target.value)}}),(0,o.jsxs)("select",{value:g,onChange:function(e){var t=e.target.value;"/"===t?(d([]),p("")):fetch("https://housedesigns.co.ke/CMS/wp-json/wp/v2/categories?slug=".concat(t)).then(function(e){if(console.log(e),!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}).then(function(e){if(e.length>0){var t=e[0].id;p(e[0].slug),fetch("https://housedesigns.co.ke/CMS/wp-json/wp/v2/posts?categories=".concat(t,"&_embed")).then(function(e){if(console.log(e),!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}).then(function(e){d(e)})}}).catch(function(e){console.error("Error:",e)})},children:[(0,o.jsx)("option",{value:"/",children:"Filter Search"}),(0,o.jsx)("option",{value:"popular",children:"Popular"}),(0,o.jsx)("option",{value:"architecture",children:"Architecture"}),(0,o.jsx)("option",{value:"construction",children:"Construction"}),(0,o.jsx)("option",{value:"interior-design",children:"Interior Design"}),(0,o.jsx)("option",{value:"masterplanning",children:"Masterplanning"}),(0,o.jsx)("option",{value:"project-management",children:"Project Management"})]})]}),(0,o.jsx)("div",{className:m().searchResults,children:i.map(function(e){return(0,o.jsx)(u(),{href:"/blog/".concat(e.slug),children:(0,o.jsxs)("div",{className:m().searchResultsContainer,children:[(0,o.jsx)("div",{className:m().featuredImg,children:e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0].source_url&&(0,o.jsx)(l(),{src:e._embedded["wp:featuredmedia"][0].source_url,alt:"featured-img",width:100,height:100})}),(0,o.jsx)("h2",{dangerouslySetInnerHTML:{__html:e.title.rendered}}),(0,o.jsx)("p",{children:new Date(e.date).toLocaleDateString()})]})},e.slug)})}),(0,o.jsx)("button",{type:"submit",className:m().searchIcon,onClick:function(e){e.preventDefault(),console.log("You searched for: ".concat(n)),fetch("https://housedesigns.co.ke/CMS/wp-json/wp/v2/posts?search=".concat(n,"&_embed")).then(function(e){if(console.log(e),!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}).then(function(e){d(e),console.log("Search results:",e)}).catch(function(e){console.error("Error:",e)})},children:(0,o.jsx)(l(),{src:_,alt:"Search-Icon"})})]})}var x=n(2051),j=n.n(x),w={fontFamily:"Poppins"};function BlogGrids(){var e=(0,r._)((0,s.useState)([]),2),t=e[0],n=e[1];return(0,s.useEffect)(function(){fetch("https://housedesigns.co.ke/CMS/wp-json/wp/v2/posts?_embed&per_page=8").then(function(e){if(console.log(e),!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}).then(function(e){n(e),console.log("Posts:",e)}).catch(function(e){console.error("Error:",e)})},[]),(0,o.jsx)("div",{style:w,className:j().grids,children:t.map(function(e){return(0,o.jsxs)(u(),{href:"/blog/".concat(e.slug),className:j().box1,children:[(0,o.jsx)("div",{className:j().imgBox,children:e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0].source_url&&(0,o.jsx)(l(),{src:e._embedded["wp:featuredmedia"][0].source_url,alt:"featured-img",layout:"fixed",width:500,height:300})}),(0,o.jsx)("h2",{className:j().postTitle,dangerouslySetInnerHTML:{__html:e.title.rendered}}),(0,o.jsx)("p",{children:new Date(e.date).toLocaleDateString()})]},e.slug)})})}var v={fontFamily:"Poppins"};function Blog(){var e,t=(0,r._)((0,s.useState)(null),2),n=t[0],a=t[1],i=(0,r._)((0,s.useState)(!0),2),d=i[0],h=i[1],_=(0,r._)((0,s.useState)(null),2),p=_[0],m=_[1];if((0,s.useEffect)(function(){fetch("https://housedesigns.co.ke/CMS/wp-json/wp/v2/posts?&_embed").then(function(e){if(console.log(e),!e.ok)throw Error("Reload Page");return e.json()}).then(function(e){console.log("Successfully connected to WordPress backend:",e),a(e)}).catch(function(e){console.error("Error connecting to WordPress backend:",e),m(e.toString())}).finally(function(){h(!1)})},[]),d)return(0,o.jsxs)("div",{className:"loading",children:["Loading",(0,o.jsx)("span",{children:"..."})]});if(p)return(0,o.jsx)("div",{className:"error",children:p});if(!n||!(n.length>0))return console.log("blogPost is not defined yet"),null;var f,x=n[0],j=x.slug,w=x._embedded,b=x.title,B=x.excerpt,S=x.date;return w&&w["wp:featuredmedia"]&&w["wp:featuredmedia"].length>0?f=w["wp:featuredmedia"][0].source_url:(console.log("This post does not have a featured image"),f="https://housedesigns.co.ke/blog/wp-content/uploads/2024/04/masterplanning.png"),(0,o.jsxs)("div",{className:g().blogContainer,style:v,children:[(0,o.jsxs)(c(),{children:[(0,o.jsx)("title",{children:b.rendered}),(0,o.jsx)("meta",{name:"title",content:b.rendered}),(0,o.jsx)("meta",{name:"description",content:B.rendered.substring(0,160)}),(0,o.jsx)("meta",{property:"og:title",content:b.rendered}),(0,o.jsx)("meta",{property:"og:description",content:B.rendered.substring(0,160)}),(0,o.jsx)("meta",{property:"og:image",content:f}),(0,o.jsx)("meta",{property:"og:image:width",content:"1260"}),(0,o.jsx)("meta",{property:"og:image:height",content:"600"}),(0,o.jsx)("meta",{property:"og:url",content:"https://housedesigns.co.ke/blog/".concat(j)}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,o.jsx)("meta",{name:"twitter:title",content:b.rendered}),(0,o.jsx)("meta",{name:"twitter:description",content:B.rendered.substring(0,160)}),(0,o.jsx)("meta",{name:"twitter:image",content:f}),(0,o.jsx)("meta",{name:"twitter:image:width",content:"1024"}),(0,o.jsx)("meta",{name:"twitter:image:height",content:"512"}),(0,o.jsx)("meta",{name:"twitter:url",content:"https://housedesigns.co.ke/blog/".concat(j)})]}),(0,o.jsxs)(u(),{href:"/blog/".concat(j),className:g().blogIntro,children:[(0,o.jsx)("div",{className:g().testImg,children:(0,o.jsx)(l(),{src:f,alt:"featured-img",width:1260,height:600})}),(0,o.jsxs)("div",{className:g().overlayInfo,children:[(0,o.jsx)("h2",{dangerouslySetInnerHTML:{__html:b?b.rendered:""}}),(0,o.jsx)("p",{className:g().excerpt,dangerouslySetInnerHTML:{__html:B?(e=B.rendered)&&window.innerWidth<=768&&e.length>100?e.substring(0,100)+"...":e:""}}),(0,o.jsx)("p",{className:g().date,children:S?new Date(S).toLocaleDateString():""})]})]}),(0,o.jsx)(SearchBar,{}),(0,o.jsx)(BlogGrids,{})]})}},4624:function(e){e.exports={blogContainer:"Blog_blogContainer__6GI3W",loading:"Blog_loading__WczNJ",dot:"Blog_dot__wwUu_",blogIntro:"Blog_blogIntro__s_j3G",testImg:"Blog_testImg__ZvNfe",overlayInfo:"Blog_overlayInfo__vh_4e",excerpt:"Blog_excerpt__q2Noy",date:"Blog_date__YpbnL"}},2051:function(e){e.exports={grids:"BlogGrids_grids___zJPl",box1:"BlogGrids_box1__dWVog",imgBox:"BlogGrids_imgBox__4pcb3",arrow:"BlogGrids_arrow___B8_7",postTitle:"BlogGrids_postTitle__CGrBb"}},5537:function(e){e.exports={searchBar:"BlogSearchBar_searchBar__9rSGc",searchIcon:"BlogSearchBar_searchIcon__yglRT",searchOptions:"BlogSearchBar_searchOptions__qQINs",searchResults:"BlogSearchBar_searchResults__XNF4q",searchResultsContainer:"BlogSearchBar_searchResultsContainer__hrVwl",featuredImg:"BlogSearchBar_featuredImg__V3ZM9"}},9008:function(e,t,n){e.exports=n(9201)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=538)}),_N_E=e.O()}]);