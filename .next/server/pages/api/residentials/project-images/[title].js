"use strict";(()=>{var e={};e.id=8940,e.ids=[8940],e.modules={5142:e=>{e.exports=require("dotenv")},7993:e=>{e.exports=require("mysql2")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8786:(e,r,t)=>{t.r(r),t.d(r,{config:()=>n,default:()=>d,routeModule:()=>u});var s={};t.r(s),t.d(s,{default:()=>handler});var i=t(1802),o=t(7153),a=t(6249),l=t(2311);function handler(e,r){let{title:t}=e.query;"GET"===e.method?l.Z.query("SELECT projects_id FROM projectDescription WHERE title = ?",[t],(e,t)=>{if(e)r.status(500).send(e);else if(void 0===t[0])r.status(404).send("Project not found");else{let e=t[0].projects_id;l.Z.query("SELECT image_url FROM images WHERE projects_id = ?",[e],(e,t)=>{if(e)console.error(e),r.status(500).json({error:"Internal Server Error"});else{let e=t.map(e=>e.image_url);r.json(e)}})}}):r.status(405).json({error:"Method Not Allowed"})}let d=(0,a.l)(s,"default"),n=(0,a.l)(s,"config"),u=new i.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/residentials/project-images/[title]",pathname:"/api/residentials/project-images/[title]",bundlePath:"",filename:""},userland:s})}};var r=require("../../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[4222,2311],()=>__webpack_exec__(8786));module.exports=t})();